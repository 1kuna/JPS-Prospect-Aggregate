(()=>{"use strict";var e={2487:(e,a,t)=>{var l=t(5130),o=t(6768),s=t(4232);const r={class:"pa-4"},i={class:"text-caption text-grey"},n=["innerHTML"];function d(e,a,t,l,d,c){const u=(0,o.g2)("v-app-bar-nav-icon"),p=(0,o.g2)("v-toolbar-title"),h=(0,o.g2)("v-spacer"),b=(0,o.g2)("v-icon"),m=(0,o.g2)("v-tooltip"),f=(0,o.g2)("v-btn"),g=(0,o.g2)("v-app-bar"),k=(0,o.g2)("v-list-item"),v=(0,o.g2)("v-divider"),D=(0,o.g2)("v-list-subheader"),F=(0,o.g2)("v-list"),_=(0,o.g2)("v-navigation-drawer"),w=(0,o.g2)("router-view"),y=(0,o.g2)("v-container"),A=(0,o.g2)("v-main"),C=(0,o.g2)("v-footer"),S=(0,o.g2)("v-card-title"),L=(0,o.g2)("v-text-field"),x=(0,o.g2)("v-card-text"),W=(0,o.g2)("v-card-actions"),R=(0,o.g2)("v-card"),E=(0,o.g2)("v-dialog"),T=(0,o.g2)("v-snackbar"),V=(0,o.g2)("v-app");return(0,o.uX)(),(0,o.Wv)(V,null,{default:(0,o.k6)((()=>[(0,o.bF)(g,{app:"",elevation:"1",color:"white",height:"64"},{default:(0,o.k6)((()=>[(0,o.bF)(u,{onClick:a[0]||(a[0]=e=>d.drawer=!d.drawer),color:"primary",class:"ml-2"}),(0,o.bF)(p,{class:"text-h5 font-weight-medium ml-2"},{default:(0,o.k6)((()=>a[7]||(a[7]=[(0,o.eW)(" JPS Proposal Forecast ")]))),_:1}),(0,o.bF)(h),(0,o.bF)(f,{icon:"",onClick:c.refreshData,color:"primary",class:"mr-2",elevation:"0"},{default:(0,o.k6)((()=>[(0,o.bF)(m,{location:"bottom"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(b,(0,s._B)((0,o.Ng)(e)),{default:(0,o.k6)((()=>a[8]||(a[8]=[(0,o.eW)("mdi-refresh")]))),_:2},1040)])),default:(0,o.k6)((()=>[a[9]||(a[9]=(0,o.Lk)("span",null,"Refresh Data",-1))])),_:1})])),_:1},8,["onClick"])])),_:1}),(0,o.bF)(_,{modelValue:d.drawer,"onUpdate:modelValue":a[1]||(a[1]=e=>d.drawer=e),app:"",color:"grey-lighten-5",width:280,elevation:"2"},{append:(0,o.k6)((()=>[(0,o.Lk)("div",r,[(0,o.bF)(f,{block:"",color:"primary",variant:"tonal","prepend-icon":"mdi-refresh",onClick:c.refreshData},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)(" Refresh Data ")]))),_:1},8,["onClick"])])])),default:(0,o.k6)((()=>[(0,o.bF)(F,{class:"py-4"},{default:(0,o.k6)((()=>[(0,o.bF)(k,{class:"mb-4 px-4"},{default:(0,o.k6)((()=>a[10]||(a[10]=[(0,o.Lk)("div",{class:"text-h6 font-weight-bold primary--text"}," JPS Proposal Forecast ",-1)]))),_:1}),(0,o.bF)(v,{class:"mb-2"}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.menuItems,((e,a)=>((0,o.uX)(),(0,o.Wv)(k,{key:a,to:e.path,"prepend-icon":e.icon,title:e.title,rounded:"lg",class:"mb-1 mx-2","active-color":"primary"},null,8,["to","prepend-icon","title"])))),128)),(0,o.bF)(v,{class:"my-2"}),(0,o.bF)(D,{class:"text-uppercase font-weight-bold"},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)(" Advanced Features ")]))),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.advancedItems,((e,a)=>((0,o.uX)(),(0,o.Wv)(k,{key:a,onClick:a=>c.handleAdvancedAction(e.action),"prepend-icon":e.icon,title:e.title,rounded:"lg",class:"mb-1 mx-2","active-color":"primary"},null,8,["onClick","prepend-icon","title"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(A,{class:"bg-grey-lighten-4"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{fluid:"",class:"pa-4"},{default:(0,o.k6)((()=>[(0,o.bF)(w,{ref:"currentView"},null,512)])),_:1})])),_:1}),(0,o.bF)(C,{app:"",class:"bg-white px-4",elevation:"1",height:"40"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",i," Â© "+(0,s.v_)((new Date).getFullYear())+" JPS Proposal Forecast Aggregator ",1),(0,o.bF)(h),a[13]||(a[13]=(0,o.Lk)("span",{class:"text-caption text-grey"},"v1.0.0",-1))])),_:1}),(0,o.bF)(E,{modelValue:d.confirmDialog.show,"onUpdate:modelValue":a[4]||(a[4]=e=>d.confirmDialog.show=e),"max-width":"500"},{default:(0,o.k6)((()=>[(0,o.bF)(R,null,{default:(0,o.k6)((()=>[(0,o.bF)(S,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(d.confirmDialog.title),1)])),_:1}),(0,o.bF)(x,null,{default:(0,o.k6)((()=>[(0,o.Lk)("p",{innerHTML:d.confirmDialog.message},null,8,n),d.confirmDialog.requireInput?((0,o.uX)(),(0,o.Wv)(L,{key:0,modelValue:d.confirmDialog.input,"onUpdate:modelValue":a[2]||(a[2]=e=>d.confirmDialog.input=e),label:d.confirmDialog.inputLabel,variant:"outlined",class:"mt-4"},null,8,["modelValue","label"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(W,null,{default:(0,o.k6)((()=>[(0,o.bF)(h),(0,o.bF)(f,{color:"grey-darken-1",variant:"text",onClick:a[3]||(a[3]=e=>d.confirmDialog.show=!1)},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("Cancel")]))),_:1}),(0,o.bF)(f,{color:"error",variant:"tonal",onClick:c.confirmAction},{default:(0,o.k6)((()=>a[15]||(a[15]=[(0,o.eW)("Confirm")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(T,{modelValue:d.snackbar.show,"onUpdate:modelValue":a[6]||(a[6]=e=>d.snackbar.show=e),color:d.snackbar.color,timeout:d.snackbar.timeout},{actions:(0,o.k6)((()=>[(0,o.bF)(f,{variant:"text",onClick:a[5]||(a[5]=e=>d.snackbar.show=!1)},{default:(0,o.k6)((()=>a[16]||(a[16]=[(0,o.eW)("Close")]))),_:1})])),default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(d.snackbar.text)+" ",1)])),_:1},8,["modelValue","color","timeout"])])),_:1})}const c={name:"App",data(){return{drawer:!1,menuItems:[{title:"Dashboard",path:"/",icon:"mdi-view-dashboard"},{title:"Data Sources",path:"/data-sources",icon:"mdi-database"}],advancedItems:[{title:"Rebuild Database",action:"rebuildDatabase",icon:"mdi-database-refresh"},{title:"Initialize Database",action:"initializeDatabase",icon:"mdi-database-plus"},{title:"Delete All Files",action:"deleteAllFiles",icon:"mdi-delete"},{title:"Run Health Checks",action:"runHealthChecks",icon:"mdi-heart-pulse"}],confirmDialog:{show:!1,title:"",message:"",requireInput:!1,inputLabel:"",input:"",action:null},snackbar:{show:!1,text:"",color:"success",timeout:5e3}}},methods:{refreshData(){this.$store.dispatch("refreshData"),this.showSnackbar("Refreshing data...")},handleAdvancedAction(e){this.drawer=!1;const a=this.$refs.currentView;a&&"function"===typeof a[e]?a[e]():this.showSnackbar("This feature is not available on the current page. Please navigate to Dashboard or Data Sources.","warning")},showConfirmDialog(e,a,t,l=!1,o=""){this.confirmDialog={show:!0,title:e,message:a,requireInput:l,inputLabel:o,input:"",action:t}},confirmAction(){this.confirmDialog.requireInput&&this.confirmDialog.input!==this.confirmDialog.inputLabel?this.showSnackbar("Please type the confirmation text exactly as shown","error"):(this.confirmDialog.show=!1,"function"===typeof this.confirmDialog.action&&this.confirmDialog.action())},showSnackbar(e,a="success",t=5e3){this.snackbar={show:!0,text:e,color:a,timeout:t}}}};var u=t(1241);const p=(0,u.A)(c,[["render",d]]),h=p;var b=t(1387);const m={class:"d-flex align-center mb-4"},f={key:3},g=["onClick"],k={class:"text-h4 font-weight-bold primary--text"},v={class:"text-h4 font-weight-bold success--text"},D={class:"text-subtitle-1 font-weight-bold info--text"},F={key:0},_={key:1},w=["innerHTML"],y={class:"mb-3"},A={class:"mb-3"},C={class:"mb-3"},S={class:"mb-3"},L={class:"mb-3"},x={class:"mb-3"},W={class:"mb-3"},R={class:"mb-3"};function E(e,a,t,l,r,i){const n=(0,o.g2)("v-alert"),d=(0,o.g2)("v-spacer"),c=(0,o.g2)("v-chip"),u=(0,o.g2)("v-progress-linear"),p=(0,o.g2)("v-icon"),h=(0,o.g2)("v-card-title"),b=(0,o.g2)("v-divider"),E=(0,o.g2)("v-text-field"),T=(0,o.g2)("v-select"),V=(0,o.g2)("v-date-picker"),I=(0,o.g2)("v-menu"),N=(0,o.g2)("v-autocomplete"),O=(0,o.g2)("v-btn"),P=(0,o.g2)("v-card-text"),U=(0,o.g2)("v-card"),X=(0,o.g2)("v-col"),z=(0,o.g2)("v-data-table"),$=(0,o.g2)("v-row"),j=(0,o.g2)("v-card-actions"),H=(0,o.g2)("v-dialog"),M=(0,o.g2)("v-snackbar"),q=(0,o.g2)("v-progress-circular");return(0,o.uX)(),(0,o.CE)("div",null,[e.hasError?((0,o.uX)(),(0,o.Wv)(n,{key:0,type:"error",dismissible:"",variant:"tonal",border:"start",class:"mb-4"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.errorMessage),1)])),_:1})):(0,o.Q3)("",!0),(0,o.Lk)("div",m,[a[16]||(a[16]=(0,o.Lk)("h1",{class:"text-h4 font-weight-bold"},"Dashboard",-1)),(0,o.bF)(d),e.lastUpdated?((0,o.uX)(),(0,o.Wv)(c,{key:0,color:"primary",size:"small",variant:"outlined","prepend-icon":"mdi-clock-outline"},{default:(0,o.k6)((()=>[(0,o.eW)(" Last updated: "+(0,s.v_)(i.formatDate(e.lastUpdated)),1)])),_:1})):(0,o.Q3)("",!0)]),e.isLoading?((0,o.uX)(),(0,o.Wv)(u,{key:1,indeterminate:"",color:"primary",class:"mb-4"})):e.dashboardData?((0,o.uX)(),(0,o.CE)("div",f,[(0,o.bF)($,null,{default:(0,o.k6)((()=>[(0,o.bF)(X,{cols:"12",md:"3",lg:"2"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{elevation:"1",class:"mb-6"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"py-3 px-4"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"small",color:"primary",class:"mr-2"},{default:(0,o.k6)((()=>a[18]||(a[18]=[(0,o.eW)("mdi-filter")]))),_:1}),a[19]||(a[19]=(0,o.eW)(" Filters "))])),_:1}),(0,o.bF)(b),(0,o.bF)(P,{class:"py-2"},{default:(0,o.k6)((()=>[(0,o.bF)(E,{modelValue:r.search,"onUpdate:modelValue":a[0]||(a[0]=e=>r.search=e),"prepend-inner-icon":"mdi-magnify",label:"Search proposals","single-line":"","hide-details":"",density:"compact",variant:"outlined",class:"mb-4"},null,8,["modelValue"]),(0,o.bF)(T,{modelValue:r.statusFilter,"onUpdate:modelValue":a[1]||(a[1]=e=>r.statusFilter=e),label:"Status",items:["All","Active","Pending","Completed","Cancelled"],variant:"outlined",density:"compact","hide-details":"",class:"mb-4"},null,8,["modelValue"]),(0,o.bF)(T,{modelValue:r.sourceFilter,"onUpdate:modelValue":a[2]||(a[2]=e=>r.sourceFilter=e),label:"Source",items:i.sourceOptions,variant:"outlined",density:"compact","hide-details":"",class:"mb-4"},null,8,["modelValue","items"]),(0,o.bF)(I,{modelValue:r.dateMenu,"onUpdate:modelValue":a[6]||(a[6]=e=>r.dateMenu=e),"close-on-content-click":!1,location:"bottom"},{activator:(0,o.k6)((({props:e})=>[(0,o.bF)(E,(0,o.v6)(e,{modelValue:i.dateRangeText,"onUpdate:modelValue":a[3]||(a[3]=e=>i.dateRangeText=e),label:"Date Range","prepend-inner-icon":"mdi-calendar",readonly:"",variant:"outlined",density:"compact","hide-details":"",class:"mb-4"}),null,16,["modelValue"])])),default:(0,o.k6)((()=>[(0,o.bF)(V,{modelValue:r.dateRange,"onUpdate:modelValue":[a[4]||(a[4]=e=>r.dateRange=e),a[5]||(a[5]=e=>r.dateMenu=!1)],range:""},null,8,["modelValue"])])),_:1},8,["modelValue"]),(0,o.bF)(N,{modelValue:r.naicsFilter,"onUpdate:modelValue":a[7]||(a[7]=e=>r.naicsFilter=e),label:"NAICS Code",items:i.naicsCodes,variant:"outlined",density:"compact","hide-details":"",class:"mb-4"},null,8,["modelValue","items"]),(0,o.bF)(T,{modelValue:r.setAsideFilter,"onUpdate:modelValue":a[8]||(a[8]=e=>r.setAsideFilter=e),label:"Set-Aside",items:i.setAsideOptions,variant:"outlined",density:"compact","hide-details":"",class:"mb-4"},null,8,["modelValue","items"]),(0,o.bF)(O,{block:"",color:"primary",variant:"tonal","prepend-icon":"mdi-refresh",onClick:i.resetFilters,class:"mt-2"},{default:(0,o.k6)((()=>a[20]||(a[20]=[(0,o.eW)(" Reset Filters ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(X,{cols:"12",md:"9",lg:"10"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{elevation:"1",class:"mb-6"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"py-4 px-6"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"small",color:"primary",class:"mr-2"},{default:(0,o.k6)((()=>a[21]||(a[21]=[(0,o.eW)("mdi-table")]))),_:1}),a[22]||(a[22]=(0,o.eW)(" Recent Proposals "))])),_:1}),(0,o.bF)(b),(0,o.bF)(z,{headers:r.headers,items:i.filteredProposals,loading:e.isLoading,"loading-text":"Loading proposals...","no-data-text":"No proposals available",class:"proposal-table"},{item:(0,o.k6)((({item:e,columns:a})=>[(0,o.Lk)("tr",{onClick:a=>i.showProposalDetails(e),class:"proposal-row"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a,((a,t)=>((0,o.uX)(),(0,o.CE)("td",{key:t},["status"===a.key?((0,o.uX)(),(0,o.Wv)(c,{key:0,color:i.getStatusColor(e.status),size:"small",variant:"tonal"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.status),1)])),_:2},1032,["color"])):"date"===a.key?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.eW)((0,s.v_)(i.formatDate(e.date)),1)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[(0,o.eW)((0,s.v_)(e[a.key]),1)],64))])))),128))],8,g)])),_:1},8,["headers","items","loading"])])),_:1})])),_:1})])),_:1}),(0,o.bF)($,null,{default:(0,o.k6)((()=>[(0,o.bF)(X,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{elevation:"1",class:"h-100"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{class:"d-flex flex-column align-center py-4"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"36",color:"primary",class:"mb-1"},{default:(0,o.k6)((()=>a[23]||(a[23]=[(0,o.eW)("mdi-file-document-multiple-outline")]))),_:1}),a[24]||(a[24]=(0,o.Lk)("span",{class:"text-h6 font-weight-medium mb-1"},"Total Proposals",-1)),(0,o.Lk)("span",k,(0,s.v_)(e.dashboardData.totalProposals||0),1)])),_:1})])),_:1})])),_:1}),(0,o.bF)(X,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{elevation:"1",class:"h-100"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{class:"d-flex flex-column align-center py-4"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"36",color:"success",class:"mb-1"},{default:(0,o.k6)((()=>a[25]||(a[25]=[(0,o.eW)("mdi-database-check-outline")]))),_:1}),a[26]||(a[26]=(0,o.Lk)("span",{class:"text-h6 font-weight-medium mb-1"},"Active Sources",-1)),(0,o.Lk)("span",v,(0,s.v_)(e.dashboardData.activeSources||0),1)])),_:1})])),_:1})])),_:1}),(0,o.bF)(X,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{elevation:"1",class:"h-100"},{default:(0,o.k6)((()=>[(0,o.bF)(P,{class:"d-flex flex-column align-center py-4"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"36",color:"info",class:"mb-1"},{default:(0,o.k6)((()=>a[27]||(a[27]=[(0,o.eW)("mdi-calendar-clock")]))),_:1}),a[28]||(a[28]=(0,o.Lk)("span",{class:"text-h6 font-weight-medium mb-1"},"Last Scrape",-1)),(0,o.Lk)("span",D,(0,s.v_)(i.formatDate(e.dashboardData.lastScrape)||"Never"),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(U,{elevation:"1",class:"mt-6"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"py-3 px-6"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"small",color:"primary",class:"mr-2"},{default:(0,o.k6)((()=>a[29]||(a[29]=[(0,o.eW)("mdi-tools")]))),_:1}),a[30]||(a[30]=(0,o.eW)(" Advanced Features "))])),_:1}),(0,o.bF)(b),(0,o.bF)(P,{class:"py-4"},{default:(0,o.k6)((()=>[(0,o.bF)($,null,{default:(0,o.k6)((()=>[(0,o.bF)(X,{cols:"12",md:"6",lg:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(O,{block:"",color:"primary",variant:"tonal","prepend-icon":"mdi-database-refresh",onClick:i.rebuildDatabase,class:"mb-2"},{default:(0,o.k6)((()=>a[31]||(a[31]=[(0,o.eW)(" Rebuild Database ")]))),_:1},8,["onClick"])])),_:1}),(0,o.bF)(X,{cols:"12",md:"6",lg:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(O,{block:"",color:"primary",variant:"tonal","prepend-icon":"mdi-database-plus",onClick:i.initializeDatabase,class:"mb-2"},{default:(0,o.k6)((()=>a[32]||(a[32]=[(0,o.eW)(" Initialize Database ")]))),_:1},8,["onClick"])])),_:1}),(0,o.bF)(X,{cols:"12",md:"6",lg:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(O,{block:"",color:"error",variant:"tonal","prepend-icon":"mdi-delete",onClick:i.deleteAllFiles,class:"mb-2"},{default:(0,o.k6)((()=>a[33]||(a[33]=[(0,o.eW)(" Delete All Files ")]))),_:1},8,["onClick"])])),_:1}),(0,o.bF)(X,{cols:"12",md:"6",lg:"3"},{default:(0,o.k6)((()=>[(0,o.bF)(O,{block:"",color:"warning",variant:"tonal","prepend-icon":"mdi-heart-pulse",onClick:i.runHealthChecks,class:"mb-2"},{default:(0,o.k6)((()=>a[34]||(a[34]=[(0,o.eW)(" Run Health Checks ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1}),r.healthResults.length>0?((0,o.uX)(),(0,o.Wv)(U,{key:0,elevation:"1",class:"mt-6"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"py-3 px-6"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{size:"small",color:"warning",class:"mr-2"},{default:(0,o.k6)((()=>a[35]||(a[35]=[(0,o.eW)("mdi-heart-pulse")]))),_:1}),a[36]||(a[36]=(0,o.eW)(" Health Information "))])),_:1}),(0,o.bF)(b),(0,o.bF)(P,{class:"py-4"},{default:(0,o.k6)((()=>[(0,o.bF)($,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.healthResults,((e,t)=>((0,o.uX)(),(0,o.Wv)(X,{key:t,cols:"12",md:"6",lg:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(U,{outlined:""},{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"py-2"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(e.sourceName)+" ",1),(0,o.bF)(d),(0,o.bF)(p,{color:"working"===e.status?"success":"error"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)("working"===e.status?"mdi-check-circle":"mdi-alert-circle"),1)])),_:2},1032,["color"])])),_:2},1024),(0,o.bF)(b),(0,o.bF)(P,null,{default:(0,o.k6)((()=>[(0,o.Lk)("p",null,[a[37]||(a[37]=(0,o.Lk)("strong",null,"Status:",-1)),(0,o.eW)(" "+(0,s.v_)("working"===e.status?"Working":"Not Working"),1)]),e.message?((0,o.uX)(),(0,o.CE)("p",F,[a[38]||(a[38]=(0,o.Lk)("strong",null,"Message:",-1)),(0,o.eW)(" "+(0,s.v_)(e.message),1)])):(0,o.Q3)("",!0),e.lastCheck?((0,o.uX)(),(0,o.CE)("p",_,[a[39]||(a[39]=(0,o.Lk)("strong",null,"Last Check:",-1)),(0,o.eW)(" "+(0,s.v_)(i.formatDate(e.lastCheck)),1)])):(0,o.Q3)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0)])):((0,o.uX)(),(0,o.Wv)(n,{key:2,type:"info",variant:"tonal",border:"start",icon:"mdi-information-outline"},{default:(0,o.k6)((()=>a[17]||(a[17]=[(0,o.eW)(" No data available. Click the refresh button to load data. ")]))),_:1})),(0,o.bF)(H,{modelValue:r.confirmDialog.show,"onUpdate:modelValue":a[11]||(a[11]=e=>r.confirmDialog.show=e),"max-width":"500"},{default:(0,o.k6)((()=>[(0,o.bF)(U,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(r.confirmDialog.title),1)])),_:1}),(0,o.bF)(P,null,{default:(0,o.k6)((()=>[(0,o.Lk)("p",{innerHTML:r.confirmDialog.message},null,8,w),r.confirmDialog.requireInput?((0,o.uX)(),(0,o.Wv)(E,{key:0,modelValue:r.confirmDialog.input,"onUpdate:modelValue":a[9]||(a[9]=e=>r.confirmDialog.input=e),label:r.confirmDialog.inputLabel,variant:"outlined",class:"mt-4"},null,8,["modelValue","label"])):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(j,null,{default:(0,o.k6)((()=>[(0,o.bF)(d),(0,o.bF)(O,{color:"grey-darken-1",variant:"text",onClick:a[10]||(a[10]=e=>r.confirmDialog.show=!1)},{default:(0,o.k6)((()=>a[40]||(a[40]=[(0,o.eW)("Cancel")]))),_:1}),(0,o.bF)(O,{color:"error",variant:"tonal",onClick:i.confirmAction},{default:(0,o.k6)((()=>a[41]||(a[41]=[(0,o.eW)("Confirm")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.bF)(M,{modelValue:r.snackbar.show,"onUpdate:modelValue":a[13]||(a[13]=e=>r.snackbar.show=e),color:r.snackbar.color,timeout:r.snackbar.timeout},{actions:(0,o.k6)((()=>[(0,o.bF)(O,{variant:"text",onClick:a[12]||(a[12]=e=>r.snackbar.show=!1)},{default:(0,o.k6)((()=>a[42]||(a[42]=[(0,o.eW)("Close")]))),_:1})])),default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(r.snackbar.text)+" ",1)])),_:1},8,["modelValue","color","timeout"]),(0,o.bF)(H,{modelValue:r.proposalDialog.show,"onUpdate:modelValue":a[15]||(a[15]=e=>r.proposalDialog.show=e),"max-width":"800px"},{default:(0,o.k6)((()=>[(0,o.bF)(U,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,{class:"py-3 px-6 text-h5"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(r.proposalDialog.proposal?r.proposalDialog.proposal.title:"Proposal Details")+" ",1),(0,o.bF)(d),(0,o.bF)(O,{icon:"",onClick:a[14]||(a[14]=e=>r.proposalDialog.show=!1)},{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>a[43]||(a[43]=[(0,o.eW)("mdi-close")]))),_:1})])),_:1})])),_:1}),(0,o.bF)(b),r.proposalDialog.proposal?((0,o.uX)(),(0,o.Wv)(P,{key:0,class:"py-4"},{default:(0,o.k6)((()=>[(0,o.bF)($,null,{default:(0,o.k6)((()=>[(0,o.bF)(X,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[a[44]||(a[44]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"ID",-1)),(0,o.Lk)("p",y,(0,s.v_)(r.proposalDialog.proposal.id),1),a[45]||(a[45]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Source",-1)),(0,o.Lk)("p",A,(0,s.v_)(r.proposalDialog.proposal.source),1),a[46]||(a[46]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Date",-1)),(0,o.Lk)("p",C,(0,s.v_)(i.formatDate(r.proposalDialog.proposal.date)),1),a[47]||(a[47]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Status",-1)),(0,o.bF)(c,{color:i.getStatusColor(r.proposalDialog.proposal.status),size:"small",variant:"tonal",class:"mb-3"},{default:(0,o.k6)((()=>[(0,o.eW)((0,s.v_)(r.proposalDialog.proposal.status),1)])),_:1},8,["color"])])),_:1}),(0,o.bF)(X,{cols:"12",md:"6"},{default:(0,o.k6)((()=>[a[48]||(a[48]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"NAICS Code",-1)),(0,o.Lk)("p",S,(0,s.v_)(r.proposalDialog.proposal.naicsCode||"N/A"),1),a[49]||(a[49]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Set-Aside",-1)),(0,o.Lk)("p",L,(0,s.v_)(r.proposalDialog.proposal.setAside||"N/A"),1),a[50]||(a[50]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Agency",-1)),(0,o.Lk)("p",x,(0,s.v_)(r.proposalDialog.proposal.agency||"N/A"),1),a[51]||(a[51]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Due Date",-1)),(0,o.Lk)("p",W,(0,s.v_)(i.formatDate(r.proposalDialog.proposal.dueDate)||"N/A"),1)])),_:1}),(0,o.bF)(X,{cols:"12"},{default:(0,o.k6)((()=>[a[53]||(a[53]=(0,o.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Description",-1)),(0,o.Lk)("p",R,(0,s.v_)(r.proposalDialog.proposal.description||"No description available."),1),r.proposalDialog.proposal.url?((0,o.uX)(),(0,o.Wv)(O,{key:0,color:"primary",variant:"tonal","prepend-icon":"mdi-open-in-new",href:r.proposalDialog.proposal.url,target:"_blank",class:"mt-2"},{default:(0,o.k6)((()=>a[52]||(a[52]=[(0,o.eW)(" View Original ")]))),_:1},8,["href"])):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1})):((0,o.uX)(),(0,o.Wv)(P,{key:1,class:"py-4 text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(q,{indeterminate:"",color:"primary"}),a[54]||(a[54]=(0,o.Lk)("p",{class:"mt-2"},"Loading proposal details...",-1))])),_:1}))])),_:1})])),_:1},8,["modelValue"])])}var T=t(782),V=t(4373);const I="http://localhost:5001/api",N={name:"Dashboard",data(){return{search:"",headers:[{title:"ID",key:"id",align:"start",sortable:!0},{title:"Title",key:"title",align:"start",sortable:!0},{title:"Source",key:"source",align:"start",sortable:!0},{title:"Date",key:"date",align:"start",sortable:!0},{title:"Status",key:"status",align:"start",sortable:!0}],healthResults:[],confirmDialog:{show:!1,title:"",message:"",requireInput:!1,inputLabel:"",input:"",action:null},snackbar:{show:!1,text:"",color:"success",timeout:5e3},statusFilter:"All",sourceFilter:"All",dateRange:[],dateMenu:!1,naicsFilter:null,setAsideFilter:"All",proposalDialog:{show:!1,proposal:null}}},computed:{...(0,T.L8)(["isLoading","hasError","errorMessage","dashboardData","lastUpdated"]),filteredProposals(){if(!this.dashboardData||!this.dashboardData.proposals)return[];let e=[...this.dashboardData.proposals];if(this.search){const a=this.search.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(a)||e.id.toString().includes(a)||e.source.toLowerCase().includes(a)))}if("All"!==this.statusFilter&&(e=e.filter((e=>e.status===this.statusFilter))),"All"!==this.sourceFilter&&(e=e.filter((e=>e.source===this.sourceFilter))),2===this.dateRange.length){const a=new Date(this.dateRange[0]),t=new Date(this.dateRange[1]);t.setHours(23,59,59,999),e=e.filter((e=>{const l=new Date(e.date);return l>=a&&l<=t}))}return this.naicsFilter&&(e=e.filter((e=>e.naicsCode===this.naicsFilter))),"All"!==this.setAsideFilter&&(e=e.filter((e=>e.setAside===this.setAsideFilter))),e},dateRangeText(){return this.dateRange&&0!==this.dateRange.length?1===this.dateRange.length?this.formatDateShort(this.dateRange[0]):`${this.formatDateShort(this.dateRange[0])} - ${this.formatDateShort(this.dateRange[1])}`:""},sourceOptions(){if(!this.dashboardData||!this.dashboardData.proposals)return["All"];const e=new Set(this.dashboardData.proposals.map((e=>e.source)));return["All",...Array.from(e)]},naicsCodes(){if(!this.dashboardData||!this.dashboardData.proposals)return[];const e=new Set;return this.dashboardData.proposals.forEach((a=>{a.naicsCode&&e.add(a.naicsCode)})),Array.from(e)},setAsideOptions(){if(!this.dashboardData||!this.dashboardData.proposals)return["All"];const e=new Set;return this.dashboardData.proposals.forEach((a=>{a.setAside&&e.add(a.setAside)})),["All",...Array.from(e)]}},methods:{formatDate(e){if(!e)return"N/A";const a=new Date(e);return a.toLocaleString()},formatDateShort(e){if(!e)return"";const a=new Date(e);return a.toLocaleDateString()},getStatusColor(e){const a={Active:"success",Pending:"warning",Completed:"info",Cancelled:"error"};return a[e]||"grey"},resetFilters(){this.search="",this.statusFilter="All",this.sourceFilter="All",this.dateRange=[],this.naicsFilter=null,this.setAsideFilter="All"},showProposalDetails(e){this.proposalDialog.proposal=e,this.proposalDialog.show=!0},showConfirmDialog(e,a,t,l=!1,o=""){this.confirmDialog={show:!0,title:e,message:a,requireInput:l,inputLabel:o,input:"",action:t}},confirmAction(){this.confirmDialog.requireInput&&this.confirmDialog.input!==this.confirmDialog.inputLabel?this.showSnackbar("Please type the confirmation text exactly as shown","error"):(this.confirmDialog.show=!1,"function"===typeof this.confirmDialog.action&&this.confirmDialog.action())},showSnackbar(e,a="success",t=5e3){this.snackbar={show:!0,text:e,color:a,timeout:t}},rebuildDatabase(){this.showConfirmDialog("Rebuild Database","WARNING: This will rebuild the database from scratch.<br><br>This operation will:<br>1. Create a backup of the current database<br>2. Rebuild the database structure<br>3. Preserve your data<br><br>The application may need to be restarted after this operation.",this.performDatabaseRebuild)},async performDatabaseRebuild(){try{await V.A.post(`${I}/rebuild-db`),this.showSnackbar("Database rebuild started. The application may need to be restarted.")}catch(e){console.error("Error rebuilding database:",e),this.showSnackbar("Failed to rebuild database: "+e.message,"error")}},initializeDatabase(){this.showConfirmDialog("Initialize Database","WARNING: This will delete the current database and create a new one!<br><br>This operation will:<br>1. Delete ALL existing data<br>2. Create a new empty database<br>3. Initialize the data sources<br><br>This operation cannot be undone. All your data will be permanently lost.",this.performDatabaseInitialization,!0,"INIT")},async performDatabaseInitialization(){try{await V.A.post(`${I}/init-db`),this.showSnackbar("Database initialization started. The page will reload shortly."),setTimeout((()=>window.location.reload()),5e3)}catch(e){console.error("Error initializing database:",e),this.showSnackbar("Failed to initialize database: "+e.message,"error")}},deleteAllFiles(){this.showConfirmDialog("Delete All Files","WARNING: This is a destructive operation!<br><br>This will:<br>1. Delete ALL downloaded files<br>2. Delete ALL database backups<br>3. Delete the current database<br>4. Create a new empty database<br><br>This operation cannot be undone. All your data will be permanently lost.",this.performDeleteAllFiles,!0,"RESET")},async performDeleteAllFiles(){try{await V.A.post(`${I}/reset-everything`),this.showSnackbar("Reset initiated. The application will be reloaded shortly."),setTimeout((()=>window.location.reload()),5e3)}catch(e){console.error("Error resetting everything:",e),this.showSnackbar("Failed to reset: "+e.message,"error")}},async runHealthChecks(){try{this.healthResults=[],this.showSnackbar("Running health checks...","info");const e=await V.A.get(`${I}/data-sources`),a=e.data;if(!a||0===a.length)return void this.showSnackbar("No data sources found","warning");const t=a.map((e=>V.A.post(`${I}/scraper-status/${e.id}/check`).then((a=>{const t=a.data;return t.sourceName=e.name,t}))));this.healthResults=await Promise.all(t);const l=this.healthResults.filter((e=>e.success&&"working"===e.status)).length,o=this.healthResults.filter((e=>e.success&&"not_working"===e.status)).length,s=this.healthResults.filter((e=>!e.success)).length;this.showSnackbar(`Health checks completed: ${l} working, ${o} not working, ${s} errors.`)}catch(e){console.error("Error running health checks:",e),this.showSnackbar("Failed to run health checks: "+e.message,"error")}}},mounted(){this.$store.dispatch("fetchDashboardData")}},O=(0,u.A)(N,[["render",E],["__scopeId","data-v-b17fdd52"]]),P=O,U=[{path:"/",name:"Dashboard",component:P},{path:"/data-sources",name:"DataSources",component:()=>t.e(301).then(t.bind(t,7301))}],X=(0,b.aE)({history:(0,b.LA)("/static/vue/"),routes:U}),z=X,$="http://localhost:5001/api",j=(0,T.y$)({state:{loading:!1,error:null,dashboardData:null,dataSources:[],lastUpdated:null},getters:{isLoading:e=>e.loading,hasError:e=>null!==e.error,errorMessage:e=>e.error,dashboardData:e=>e.dashboardData,dataSources:e=>e.dataSources,lastUpdated:e=>e.lastUpdated},mutations:{SET_LOADING(e,a){e.loading=a},SET_ERROR(e,a){e.error=a},SET_DASHBOARD_DATA(e,a){e.dashboardData=a,e.lastUpdated=new Date},SET_DATA_SOURCES(e,a){e.dataSources=a}},actions:{async fetchDashboardData({commit:e}){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=await V.A.get(`${$}/dashboard`);e("SET_DASHBOARD_DATA",a.data)}catch(a){e("SET_ERROR",a.message||"Failed to fetch dashboard data"),console.error("Error fetching dashboard data:",a)}finally{e("SET_LOADING",!1)}},async fetchDataSources({commit:e}){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=await V.A.get(`${$}/data-sources`);e("SET_DATA_SOURCES",a.data)}catch(a){e("SET_ERROR",a.message||"Failed to fetch data sources"),console.error("Error fetching data sources:",a)}finally{e("SET_LOADING",!1)}},refreshData({dispatch:e}){e("fetchDashboardData"),e("fetchDataSources")}}});var H=t(7768),M=t(9539),q=t(5741);t(5524);const B=(0,H.$N)({components:M,directives:q,theme:{defaultTheme:"light",themes:{light:{dark:!1,colors:{primary:"#3f51b5",secondary:"#5c6bc0",accent:"#8c9eff",error:"#f44336",info:"#03a9f4",success:"#4caf50",warning:"#ff9800"}}},options:{customProperties:!0,variations:!0}},defaults:{VCard:{elevation:1,rounded:"lg"},VBtn:{rounded:"lg",elevation:0},VTextField:{variant:"outlined",density:"comfortable"},VAlert:{variant:"tonal",border:"start"}}}),G=(0,l.Ef)(h);G.use(j),G.use(z),G.use(B),G.mount("#app")}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var s=a[l]={exports:{}};return e[l](s,s.exports,t),s.exports}t.m=e,(()=>{var e=[];t.O=(a,l,o,s)=>{if(!l){var r=1/0;for(c=0;c<e.length;c++){for(var[l,o,s]=e[c],i=!0,n=0;n<l.length;n++)(!1&s||r>=s)&&Object.keys(t.O).every((e=>t.O[e](l[n])))?l.splice(n--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var d=o();void 0!==d&&(a=d)}}return a}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,o,s]}})(),(()=>{t.d=(e,a)=>{for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((a,l)=>(t.f[l](e,a),a)),[]))})(),(()=>{t.u=e=>"js/"+e+"."+t.h()+".js"})(),(()=>{t.miniCssF=e=>"css/"+e+".7de23021.css"})(),(()=>{t.h=()=>"671ef45afcfd1e86"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{var e={},a="jps-prospect-aggregate-frontend:";t.l=(l,o,s,r)=>{if(e[l])e[l].push(o);else{var i,n;if(void 0!==s)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==l||u.getAttribute("data-webpack")==a+s){i=u;break}}i||(n=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",a+s),i.src=l),e[l]=[o];var p=(a,t)=>{i.onerror=i.onload=null,clearTimeout(h);var o=e[l];if(delete e[l],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(t))),a)return a(t)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),n&&document.head.appendChild(i)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p="/static/vue/"})(),(()=>{if("undefined"!==typeof document){var e=(e,a,l,o,s)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css",t.nc&&(r.nonce=t.nc);var i=t=>{if(r.onerror=r.onload=null,"load"===t.type)o();else{var l=t&&t.type,i=t&&t.target&&t.target.href||a,n=new Error("Loading CSS chunk "+e+" failed.\n("+l+": "+i+")");n.name="ChunkLoadError",n.code="CSS_CHUNK_LOAD_FAILED",n.type=l,n.request=i,r.parentNode&&r.parentNode.removeChild(r),s(n)}};return r.onerror=r.onload=i,r.href=a,l?l.parentNode.insertBefore(r,l.nextSibling):document.head.appendChild(r),r},a=(e,a)=>{for(var t=document.getElementsByTagName("link"),l=0;l<t.length;l++){var o=t[l],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===a))return o}var r=document.getElementsByTagName("style");for(l=0;l<r.length;l++){o=r[l],s=o.getAttribute("data-href");if(s===e||s===a)return o}},l=l=>new Promise(((o,s)=>{var r=t.miniCssF(l),i=t.p+r;if(a(r,i))return o();e(l,i,null,o,s)})),o={524:0};t.f.miniCss=(e,a)=>{var t={301:1};o[e]?a.push(o[e]):0!==o[e]&&t[e]&&a.push(o[e]=l(e).then((()=>{o[e]=0}),(a=>{throw delete o[e],a})))}}})(),(()=>{var e={524:0};t.f.j=(a,l)=>{var o=t.o(e,a)?e[a]:void 0;if(0!==o)if(o)l.push(o[2]);else{var s=new Promise(((t,l)=>o=e[a]=[t,l]));l.push(o[2]=s);var r=t.p+t.u(a),i=new Error,n=l=>{if(t.o(e,a)&&(o=e[a],0!==o&&(e[a]=void 0),o)){var s=l&&("load"===l.type?"missing":l.type),r=l&&l.target&&l.target.src;i.message="Loading chunk "+a+" failed.\n("+s+": "+r+")",i.name="ChunkLoadError",i.type=s,i.request=r,o[1](i)}};t.l(r,n,"chunk-"+a,a)}},t.O.j=a=>0===e[a];var a=(a,l)=>{var o,s,[r,i,n]=l,d=0;if(r.some((a=>0!==e[a]))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(n)var c=n(t)}for(a&&a(l);d<r.length;d++)s=r[d],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},l=self["webpackChunkjps_prospect_aggregate_frontend"]=self["webpackChunkjps_prospect_aggregate_frontend"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var l=t.O(void 0,[504],(()=>t(2487)));l=t.O(l)})();
//# sourceMappingURL=app.671ef45afcfd1e86.js.map