(()=>{"use strict";var e={3053:(e,a,t)=>{var o=t(5130),r=t(6768),l=t(4232);const s={class:"pa-4"},i={class:"text-caption text-grey"},n=["innerHTML"];function d(e,a,t,o,d,c){const p=(0,r.g2)("v-app-bar-nav-icon"),u=(0,r.g2)("v-toolbar-title"),g=(0,r.g2)("v-spacer"),h=(0,r.g2)("v-icon"),m=(0,r.g2)("v-tooltip"),b=(0,r.g2)("v-btn"),f=(0,r.g2)("v-app-bar"),k=(0,r.g2)("v-list-item"),v=(0,r.g2)("v-divider"),D=(0,r.g2)("v-list-subheader"),_=(0,r.g2)("v-list"),w=(0,r.g2)("v-navigation-drawer"),y=(0,r.g2)("router-view"),F=(0,r.g2)("v-container"),x=(0,r.g2)("v-main"),L=(0,r.g2)("v-footer"),C=(0,r.g2)("v-card-title"),S=(0,r.g2)("v-text-field"),A=(0,r.g2)("v-card-text"),P=(0,r.g2)("v-card-actions"),E=(0,r.g2)("v-card"),W=(0,r.g2)("v-dialog"),T=(0,r.g2)("v-snackbar"),O=(0,r.g2)("v-app");return(0,r.uX)(),(0,r.Wv)(O,null,{default:(0,r.k6)((()=>[(0,r.bF)(f,{app:"",elevation:"1",color:"white",height:"64"},{default:(0,r.k6)((()=>[(0,r.bF)(p,{onClick:a[0]||(a[0]=e=>d.drawer=!d.drawer),color:"primary",class:"ml-2"}),(0,r.bF)(u,{class:"text-h5 font-weight-medium ml-2"},{default:(0,r.k6)((()=>a[7]||(a[7]=[(0,r.eW)(" JPS Proposal Forecast ")]))),_:1}),(0,r.bF)(g),(0,r.bF)(b,{icon:"",onClick:c.refreshData,color:"primary",class:"mr-2",elevation:"0"},{default:(0,r.k6)((()=>[(0,r.bF)(m,{location:"bottom"},{activator:(0,r.k6)((({props:e})=>[(0,r.bF)(h,(0,l._B)((0,r.Ng)(e)),{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)("mdi-refresh")]))),_:2},1040)])),default:(0,r.k6)((()=>[a[9]||(a[9]=(0,r.Lk)("span",null,"Refresh Data",-1))])),_:1})])),_:1},8,["onClick"])])),_:1}),(0,r.bF)(w,{modelValue:d.drawer,"onUpdate:modelValue":a[1]||(a[1]=e=>d.drawer=e),app:"",color:"grey-lighten-5",width:280,elevation:"2"},{append:(0,r.k6)((()=>[(0,r.Lk)("div",s,[(0,r.bF)(b,{block:"",color:"primary",variant:"tonal","prepend-icon":"mdi-refresh",onClick:c.refreshData},{default:(0,r.k6)((()=>a[12]||(a[12]=[(0,r.eW)(" Refresh Data ")]))),_:1},8,["onClick"])])])),default:(0,r.k6)((()=>[(0,r.bF)(_,{class:"py-4"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{class:"mb-4 px-4"},{default:(0,r.k6)((()=>a[10]||(a[10]=[(0,r.Lk)("div",{class:"text-h6 font-weight-bold primary--text"}," JPS Proposal Forecast ",-1)]))),_:1}),(0,r.bF)(v,{class:"mb-2"}),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.menuItems,((e,a)=>((0,r.uX)(),(0,r.Wv)(k,{key:a,to:e.path,"prepend-icon":e.icon,title:e.title,rounded:"lg",class:"mb-1 mx-2","active-color":"primary"},null,8,["to","prepend-icon","title"])))),128)),(0,r.bF)(v,{class:"my-2"}),(0,r.bF)(D,{class:"text-uppercase font-weight-bold"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)(" Advanced Features ")]))),_:1}),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(d.advancedItems,((e,a)=>((0,r.uX)(),(0,r.Wv)(k,{key:a,onClick:a=>c.handleAdvancedAction(e.action),"prepend-icon":e.icon,title:e.title,rounded:"lg",class:"mb-1 mx-2","active-color":"primary"},null,8,["onClick","prepend-icon","title"])))),128))])),_:1})])),_:1},8,["modelValue"]),(0,r.bF)(x,{class:"bg-grey-lighten-4"},{default:(0,r.k6)((()=>[(0,r.bF)(F,{fluid:"",class:"pa-4"},{default:(0,r.k6)((()=>[(0,r.bF)(y,{ref:"currentView"},null,512)])),_:1})])),_:1}),(0,r.bF)(L,{app:"",class:"bg-white px-4",elevation:"1",height:"40"},{default:(0,r.k6)((()=>[(0,r.Lk)("span",i," Â© "+(0,l.v_)((new Date).getFullYear())+" JPS Proposal Forecast Aggregator ",1),(0,r.bF)(g),a[13]||(a[13]=(0,r.Lk)("span",{class:"text-caption text-grey"},"v1.0.0",-1))])),_:1}),(0,r.bF)(W,{modelValue:d.confirmDialog.show,"onUpdate:modelValue":a[4]||(a[4]=e=>d.confirmDialog.show=e),"max-width":"500"},{default:(0,r.k6)((()=>[(0,r.bF)(E,null,{default:(0,r.k6)((()=>[(0,r.bF)(C,{class:"text-h5"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(d.confirmDialog.title),1)])),_:1}),(0,r.bF)(A,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",{innerHTML:d.confirmDialog.message},null,8,n),d.confirmDialog.requireInput?((0,r.uX)(),(0,r.Wv)(S,{key:0,modelValue:d.confirmDialog.input,"onUpdate:modelValue":a[2]||(a[2]=e=>d.confirmDialog.input=e),label:d.confirmDialog.inputLabel,variant:"outlined",class:"mt-4"},null,8,["modelValue","label"])):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(P,null,{default:(0,r.k6)((()=>[(0,r.bF)(g),(0,r.bF)(b,{color:"grey-darken-1",variant:"text",onClick:a[3]||(a[3]=e=>d.confirmDialog.show=!1)},{default:(0,r.k6)((()=>a[14]||(a[14]=[(0,r.eW)("Cancel")]))),_:1}),(0,r.bF)(b,{color:"error",variant:"tonal",onClick:c.confirmAction},{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.eW)("Confirm")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.bF)(T,{modelValue:d.snackbar.show,"onUpdate:modelValue":a[6]||(a[6]=e=>d.snackbar.show=e),color:d.snackbar.color,timeout:d.snackbar.timeout},{actions:(0,r.k6)((()=>[(0,r.bF)(b,{variant:"text",onClick:a[5]||(a[5]=e=>d.snackbar.show=!1)},{default:(0,r.k6)((()=>a[16]||(a[16]=[(0,r.eW)("Close")]))),_:1})])),default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(d.snackbar.text)+" ",1)])),_:1},8,["modelValue","color","timeout"])])),_:1})}const c={name:"App",data(){return{drawer:!1,menuItems:[{title:"Dashboard",path:"/",icon:"mdi-view-dashboard"},{title:"Data Sources",path:"/data-sources",icon:"mdi-database"}],advancedItems:[{title:"Rebuild Database",action:"rebuildDatabase",icon:"mdi-database-refresh"},{title:"Initialize Database",action:"initializeDatabase",icon:"mdi-database-plus"},{title:"Delete All Files",action:"deleteAllFiles",icon:"mdi-delete"},{title:"Run Health Checks",action:"runHealthChecks",icon:"mdi-heart-pulse"}],confirmDialog:{show:!1,title:"",message:"",requireInput:!1,inputLabel:"",input:"",action:null},snackbar:{show:!1,text:"",color:"success",timeout:5e3}}},methods:{refreshData(){this.$store.dispatch("refreshData"),this.showSnackbar("Refreshing data...")},handleAdvancedAction(e){this.drawer=!1;const a=this.$refs.currentView;a&&"function"===typeof a[e]?a[e]():this.showSnackbar("This feature is not available on the current page. Please navigate to Dashboard or Data Sources.","warning")},showConfirmDialog(e,a,t,o=!1,r=""){this.confirmDialog={show:!0,title:e,message:a,requireInput:o,inputLabel:r,input:"",action:t}},confirmAction(){this.confirmDialog.requireInput&&this.confirmDialog.input!==this.confirmDialog.inputLabel?this.showSnackbar("Please type the confirmation text exactly as shown","error"):(this.confirmDialog.show=!1,"function"===typeof this.confirmDialog.action&&this.confirmDialog.action())},showSnackbar(e,a="success",t=5e3){this.snackbar={show:!0,text:e,color:a,timeout:t}}}};var p=t(1241);const u=(0,p.A)(c,[["render",d]]),g=u;var h=t(1387);const m={class:"d-flex align-center mb-4"},b={key:3},f={class:"text-h4 font-weight-bold primary--text"},k={class:"text-h4 font-weight-bold success--text"},v={class:"text-subtitle-1 font-weight-bold info--text"},D={class:"text-center py-6"},_=["innerHTML"],w={class:"mb-3"},y={class:"mb-3"},F={class:"mb-3"},x={class:"mb-3"},L={class:"mb-3"},C={class:"mb-3"},S={class:"mb-3"},A={class:"mb-3"};function P(e,a,t,o,s,i){const n=(0,r.g2)("v-alert"),d=(0,r.g2)("v-spacer"),c=(0,r.g2)("v-chip"),p=(0,r.g2)("v-progress-linear"),u=(0,r.g2)("v-card"),g=(0,r.g2)("v-icon"),h=(0,r.g2)("v-card-text"),P=(0,r.g2)("v-col"),E=(0,r.g2)("v-row"),W=(0,r.g2)("v-btn"),T=(0,r.g2)("v-card-title"),O=(0,r.g2)("v-data-table"),I=(0,r.g2)("v-text-field"),V=(0,r.g2)("v-card-actions"),N=(0,r.g2)("v-dialog"),R=(0,r.g2)("v-snackbar"),U=(0,r.g2)("v-divider"),X=(0,r.g2)("v-progress-circular");return(0,r.uX)(),(0,r.CE)("div",null,[e.hasError?((0,r.uX)(),(0,r.Wv)(n,{key:0,type:"error",dismissible:"",variant:"tonal",border:"start",class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(e.errorMessage),1)])),_:1})):(0,r.Q3)("",!0),(0,r.Lk)("div",m,[a[7]||(a[7]=(0,r.Lk)("h1",{class:"text-h4 font-weight-bold"},"Dashboard",-1)),(0,r.bF)(d),e.lastUpdated?((0,r.uX)(),(0,r.Wv)(c,{key:0,color:"primary",size:"small",variant:"outlined","prepend-icon":"mdi-clock-outline"},{default:(0,r.k6)((()=>[(0,r.eW)(" Last updated: "+(0,l.v_)(i.formatDate(e.lastUpdated)),1)])),_:1})):(0,r.Q3)("",!0)]),e.isLoading?((0,r.uX)(),(0,r.Wv)(p,{key:1,indeterminate:"",color:"primary",class:"mb-4"})):e.dashboardData?((0,r.uX)(),(0,r.CE)("div",b,[e.dashboardData&&e.dashboardData.pagination?((0,r.uX)(),(0,r.Wv)(u,{key:0,class:"mb-4 pa-2",color:"grey-lighten-4"},{default:(0,r.k6)((()=>[(0,r.Lk)("pre",null,"Page: "+(0,l.v_)(s.page)+", Items per page: "+(0,l.v_)(s.itemsPerPage)+", Total count: "+(0,l.v_)(i.totalCount),1),(0,r.Lk)("pre",null,"Pagination data: "+(0,l.v_)(JSON.stringify(e.dashboardData.pagination,null,2)),1)])),_:1})):(0,r.Q3)("",!0),(0,r.bF)(E,null,{default:(0,r.k6)((()=>[(0,r.bF)(P,{cols:"12",md:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{elevation:"1",class:"h-100"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{class:"d-flex flex-column align-center py-4"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"36",color:"primary",class:"mb-1"},{default:(0,r.k6)((()=>a[9]||(a[9]=[(0,r.eW)("mdi-file-document-multiple-outline")]))),_:1}),a[10]||(a[10]=(0,r.Lk)("span",{class:"text-h6 font-weight-medium mb-1"},"Total Proposals",-1)),(0,r.Lk)("span",f,(0,l.v_)(e.dashboardData.total_proposals||0),1)])),_:1})])),_:1})])),_:1}),(0,r.bF)(P,{cols:"12",md:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{elevation:"1",class:"h-100"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{class:"d-flex flex-column align-center py-4"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"36",color:"success",class:"mb-1"},{default:(0,r.k6)((()=>a[11]||(a[11]=[(0,r.eW)("mdi-database-check-outline")]))),_:1}),a[12]||(a[12]=(0,r.Lk)("span",{class:"text-h6 font-weight-medium mb-1"},"Active Sources",-1)),(0,r.Lk)("span",k,(0,l.v_)(e.dashboardData.active_sources||0),1)])),_:1})])),_:1})])),_:1}),(0,r.bF)(P,{cols:"12",md:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{elevation:"1",class:"h-100"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{class:"d-flex flex-column align-center py-4"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"36",color:"info",class:"mb-1"},{default:(0,r.k6)((()=>a[13]||(a[13]=[(0,r.eW)("mdi-calendar-clock")]))),_:1}),a[14]||(a[14]=(0,r.Lk)("span",{class:"text-h6 font-weight-medium mb-1"},"Last Updated",-1)),(0,r.Lk)("span",v,(0,l.v_)(i.formatDate(e.dashboardData.last_scrape)||"Never"),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.bF)(E,{class:"mt-4"},{default:(0,r.k6)((()=>[(0,r.bF)(P,{cols:"12"},{default:(0,r.k6)((()=>[(0,r.bF)(u,{elevation:"2",class:"rounded-lg"},{default:(0,r.k6)((()=>[(0,r.bF)(T,{class:"d-flex align-center"},{default:(0,r.k6)((()=>[a[16]||(a[16]=(0,r.Lk)("span",{class:"text-h5"},"Recent Proposals",-1)),(0,r.bF)(d),(0,r.bF)(W,{icon:"",onClick:i.refreshData,loading:e.isLoading,color:"primary"},{default:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>a[15]||(a[15]=[(0,r.eW)("mdi-refresh")]))),_:1})])),_:1},8,["onClick","loading"])])),_:1}),(0,r.bF)(O,{headers:s.headers,items:i.filteredProposals,loading:e.isLoading,"items-per-page":s.itemsPerPage,page:s.page,"server-items-length":i.totalCount,"onUpdate:page":i.updatePage,"onUpdate:itemsPerPage":i.updateItemsPerPage,class:"elevation-0","onClick:row":i.showProposalDetails,"footer-props":{"items-per-page-options":[10,20,50,100],"show-current-page":!0,"show-first-last-page":!0,"items-per-page-text":"Rows per page:"}},{"item.date":(0,r.k6)((({item:e})=>[(0,r.eW)((0,l.v_)(i.formatDate(e.date)),1)])),"item.status":(0,r.k6)((({item:e})=>[(0,r.bF)(c,{color:i.getStatusColor(e.status),"text-color":"white",size:"small"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(e.status),1)])),_:2},1032,["color"])])),"no-data":(0,r.k6)((()=>[(0,r.Lk)("div",D,[(0,r.bF)(g,{size:"large",color:"grey-lighten-1",class:"mb-2"},{default:(0,r.k6)((()=>a[17]||(a[17]=[(0,r.eW)("mdi-database-off")]))),_:1}),a[18]||(a[18]=(0,r.Lk)("div",{class:"text-body-1 text-grey-darken-1"},"No proposals found",-1))])])),_:1},8,["headers","items","loading","items-per-page","page","server-items-length","onUpdate:page","onUpdate:itemsPerPage","onClick:row"])])),_:1})])),_:1})])),_:1})])):((0,r.uX)(),(0,r.Wv)(n,{key:2,type:"info",variant:"tonal",border:"start",icon:"mdi-information-outline"},{default:(0,r.k6)((()=>a[8]||(a[8]=[(0,r.eW)(" No data available. Click the refresh button to load data. ")]))),_:1})),(0,r.bF)(N,{modelValue:s.confirmDialog.show,"onUpdate:modelValue":a[2]||(a[2]=e=>s.confirmDialog.show=e),"max-width":"500"},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(T,{class:"text-h5"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(s.confirmDialog.title),1)])),_:1}),(0,r.bF)(h,null,{default:(0,r.k6)((()=>[(0,r.Lk)("p",{innerHTML:s.confirmDialog.message},null,8,_),s.confirmDialog.requireInput?((0,r.uX)(),(0,r.Wv)(I,{key:0,modelValue:s.confirmDialog.input,"onUpdate:modelValue":a[0]||(a[0]=e=>s.confirmDialog.input=e),label:s.confirmDialog.inputLabel,variant:"outlined",class:"mt-4"},null,8,["modelValue","label"])):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(V,null,{default:(0,r.k6)((()=>[(0,r.bF)(d),(0,r.bF)(W,{color:"grey-darken-1",variant:"text",onClick:a[1]||(a[1]=e=>s.confirmDialog.show=!1)},{default:(0,r.k6)((()=>a[19]||(a[19]=[(0,r.eW)("Cancel")]))),_:1}),(0,r.bF)(W,{color:"error",variant:"tonal",onClick:i.confirmAction},{default:(0,r.k6)((()=>a[20]||(a[20]=[(0,r.eW)("Confirm")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,r.bF)(R,{modelValue:s.snackbar.show,"onUpdate:modelValue":a[4]||(a[4]=e=>s.snackbar.show=e),color:s.snackbar.color,timeout:s.snackbar.timeout},{actions:(0,r.k6)((()=>[(0,r.bF)(W,{variant:"text",onClick:a[3]||(a[3]=e=>s.snackbar.show=!1)},{default:(0,r.k6)((()=>a[21]||(a[21]=[(0,r.eW)("Close")]))),_:1})])),default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(s.snackbar.text)+" ",1)])),_:1},8,["modelValue","color","timeout"]),(0,r.bF)(N,{modelValue:s.proposalDialog.show,"onUpdate:modelValue":a[6]||(a[6]=e=>s.proposalDialog.show=e),"max-width":"800px"},{default:(0,r.k6)((()=>[(0,r.bF)(u,null,{default:(0,r.k6)((()=>[(0,r.bF)(T,{class:"py-3 px-6 text-h5"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(s.proposalDialog.proposal?s.proposalDialog.proposal.title:"Proposal Details")+" ",1),(0,r.bF)(d),(0,r.bF)(W,{icon:"",onClick:a[5]||(a[5]=e=>s.proposalDialog.show=!1)},{default:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>a[22]||(a[22]=[(0,r.eW)("mdi-close")]))),_:1})])),_:1})])),_:1}),(0,r.bF)(U),s.proposalDialog.proposal?((0,r.uX)(),(0,r.Wv)(h,{key:0,class:"py-4"},{default:(0,r.k6)((()=>[(0,r.bF)(E,null,{default:(0,r.k6)((()=>[(0,r.bF)(P,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[a[23]||(a[23]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"ID",-1)),(0,r.Lk)("p",w,(0,l.v_)(s.proposalDialog.proposal.id),1),a[24]||(a[24]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Source",-1)),(0,r.Lk)("p",y,(0,l.v_)(s.proposalDialog.proposal.source),1),a[25]||(a[25]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Date",-1)),(0,r.Lk)("p",F,(0,l.v_)(i.formatDate(s.proposalDialog.proposal.date)),1),a[26]||(a[26]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Status",-1)),(0,r.bF)(c,{color:i.getStatusColor(s.proposalDialog.proposal.status),size:"small",variant:"tonal",class:"mb-3"},{default:(0,r.k6)((()=>[(0,r.eW)((0,l.v_)(s.proposalDialog.proposal.status),1)])),_:1},8,["color"])])),_:1}),(0,r.bF)(P,{cols:"12",md:"6"},{default:(0,r.k6)((()=>[a[27]||(a[27]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"NAICS Code",-1)),(0,r.Lk)("p",x,(0,l.v_)(s.proposalDialog.proposal.naicsCode||"N/A"),1),a[28]||(a[28]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Set-Aside",-1)),(0,r.Lk)("p",L,(0,l.v_)(s.proposalDialog.proposal.setAside||"N/A"),1),a[29]||(a[29]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Agency",-1)),(0,r.Lk)("p",C,(0,l.v_)(s.proposalDialog.proposal.agency||"N/A"),1),a[30]||(a[30]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Due Date",-1)),(0,r.Lk)("p",S,(0,l.v_)(i.formatDate(s.proposalDialog.proposal.dueDate)||"N/A"),1)])),_:1}),(0,r.bF)(P,{cols:"12"},{default:(0,r.k6)((()=>[a[32]||(a[32]=(0,r.Lk)("p",{class:"text-subtitle-2 font-weight-bold mb-1"},"Description",-1)),(0,r.Lk)("p",A,(0,l.v_)(s.proposalDialog.proposal.description||"No description available."),1),s.proposalDialog.proposal.url?((0,r.uX)(),(0,r.Wv)(W,{key:0,color:"primary",variant:"tonal","prepend-icon":"mdi-open-in-new",href:s.proposalDialog.proposal.url,target:"_blank",class:"mt-2"},{default:(0,r.k6)((()=>a[31]||(a[31]=[(0,r.eW)(" View Original ")]))),_:1},8,["href"])):(0,r.Q3)("",!0)])),_:1})])),_:1})])),_:1})):((0,r.uX)(),(0,r.Wv)(h,{key:1,class:"py-4 text-center"},{default:(0,r.k6)((()=>[(0,r.bF)(X,{indeterminate:"",color:"primary"}),a[33]||(a[33]=(0,r.Lk)("p",{class:"mt-2"},"Loading proposal details...",-1))])),_:1}))])),_:1})])),_:1},8,["modelValue"])])}var E=t(782);const W={name:"Dashboard",data(){return{headers:[{title:"ID",key:"id",align:"start",sortable:!0},{title:"Title",key:"title",align:"start",sortable:!0},{title:"Source",key:"source",align:"start",sortable:!0},{title:"Date",key:"date",align:"start",sortable:!0},{title:"Status",key:"status",align:"start",sortable:!0}],confirmDialog:{show:!1,title:"",message:"",requireInput:!1,inputLabel:"",input:"",action:null},snackbar:{show:!1,text:"",color:"success",timeout:5e3},proposalDialog:{show:!1,proposal:null},itemsPerPage:10,page:1}},computed:{...(0,E.L8)(["isLoading","hasError","errorMessage","dashboardData","lastUpdated"]),filteredProposals(){return this.dashboardData&&this.dashboardData.proposals?this.dashboardData.proposals:[]},totalCount(){return this.dashboardData&&this.dashboardData.pagination&&this.dashboardData.pagination.total_count||0}},methods:{fetchData(){console.log(`Fetching dashboard data with page=${this.page}, perPage=${this.itemsPerPage}`),this.$store.dispatch("fetchDashboardData",{page:this.page,perPage:this.itemsPerPage}).then((()=>{console.log("Dashboard data fetched:",this.dashboardData),this.dashboardData&&this.dashboardData.pagination&&console.log("Pagination data:",this.dashboardData.pagination)})).catch((e=>{console.error("Error fetching dashboard data:",e)}))},formatDate(e){if(!e)return"N/A";const a=new Date(e);return a.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},getStatusColor(e){const a={Active:"green",Pending:"amber-darken-2",Completed:"blue",Cancelled:"red",Draft:"grey"};return a[e]||"grey"},confirmAction(){this.confirmDialog.requireInput&&"CONFIRM"!==this.confirmDialog.input?this.showSnackbar("Please type CONFIRM to proceed","error"):("function"===typeof this.confirmDialog.action&&this.confirmDialog.action(),this.confirmDialog.show=!1,this.confirmDialog.input="")},showSnackbar(e,a="success"){this.snackbar.text=e,this.snackbar.color=a,this.snackbar.show=!0},showProposalDetails(e){this.proposalDialog.proposal=e,this.proposalDialog.show=!0},refreshData(){this.fetchData()},updatePage(e){this.page=e,this.fetchData()},updateItemsPerPage(e){this.itemsPerPage=e,this.fetchData()}},mounted(){this.fetchData()}},T=(0,p.A)(W,[["render",P],["__scopeId","data-v-345735a7"]]),O=T,I=[{path:"/",name:"Dashboard",component:O},{path:"/data-sources",name:"DataSources",component:()=>t.e(301).then(t.bind(t,7301))},{path:"/:pathMatch(.*)*",redirect:"/"}],V=(0,h.aE)({history:(0,h.LA)("/static/vue/"),routes:I,scrollBehavior(e,a,t){return t||{top:0}}}),N=V;var R=t(4373);const U="http://localhost:5001/api",X=(0,E.y$)({state:{loading:!1,error:null,dashboardData:null,dataSources:[],lastUpdated:null},getters:{isLoading:e=>e.loading,hasError:e=>null!==e.error,errorMessage:e=>e.error,dashboardData:e=>e.dashboardData,dataSources:e=>e.dataSources,lastUpdated:e=>e.lastUpdated},mutations:{SET_LOADING(e,a){e.loading=a},SET_ERROR(e,a){e.error=a},SET_DASHBOARD_DATA(e,a){e.dashboardData=a,e.lastUpdated=new Date},SET_DATA_SOURCES(e,a){e.dataSources=a}},actions:{async fetchDashboardData({commit:e},{page:a=1,perPage:t=10}={}){e("SET_LOADING",!0),e("SET_ERROR",null),console.log(`Store: Fetching dashboard data with page=${a}, perPage=${t}`);try{const o=await R.A.get(`${U}/dashboard`,{params:{page:a,per_page:t}});return console.log("API response:",o.data),o.data&&o.data.pagination&&console.log("Pagination data from API:",o.data.pagination),e("SET_DASHBOARD_DATA",o.data),o.data}catch(o){throw e("SET_ERROR",o.message||"Failed to fetch dashboard data"),console.error("Error fetching dashboard data:",o),o}finally{e("SET_LOADING",!1)}},async fetchDataSources({commit:e}){e("SET_LOADING",!0),e("SET_ERROR",null);try{const a=await R.A.get(`${U}/data-sources`);e("SET_DATA_SOURCES",a.data)}catch(a){e("SET_ERROR",a.message||"Failed to fetch data sources"),console.error("Error fetching data sources:",a)}finally{e("SET_LOADING",!1)}},refreshData({dispatch:e}){e("fetchDashboardData"),e("fetchDataSources")}}});var j=t(7768),M=t(9539),$=t(5741);t(5524);const q=(0,j.$N)({components:M,directives:$,theme:{defaultTheme:"light",themes:{light:{dark:!1,colors:{primary:"#3f51b5",secondary:"#5c6bc0",accent:"#8c9eff",error:"#f44336",info:"#03a9f4",success:"#4caf50",warning:"#ff9800"}}},options:{customProperties:!0,variations:!0}},defaults:{VCard:{elevation:1,rounded:"lg"},VBtn:{rounded:"lg",elevation:0},VTextField:{variant:"outlined",density:"comfortable"},VAlert:{variant:"tonal",border:"start"}}}),z=(0,o.Ef)(g);z.use(X),z.use(N),z.use(q),z.mount("#app")}},a={};function t(o){var r=a[o];if(void 0!==r)return r.exports;var l=a[o]={exports:{}};return e[o](l,l.exports,t),l.exports}t.m=e,(()=>{var e=[];t.O=(a,o,r,l)=>{if(!o){var s=1/0;for(c=0;c<e.length;c++){for(var[o,r,l]=e[c],i=!0,n=0;n<o.length;n++)(!1&l||s>=l)&&Object.keys(t.O).every((e=>t.O[e](o[n])))?o.splice(n--,1):(i=!1,l<s&&(s=l));if(i){e.splice(c--,1);var d=r();void 0!==d&&(a=d)}}return a}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,r,l]}})(),(()=>{t.d=(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}})(),(()=>{t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((a,o)=>(t.f[o](e,a),a)),[]))})(),(()=>{t.u=e=>"js/"+e+"."+t.h()+".js"})(),(()=>{t.miniCssF=e=>"css/"+e+".7de23021.css"})(),(()=>{t.h=()=>"38dc568208e5786a"})(),(()=>{t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a)})(),(()=>{var e={},a="jps-prospect-aggregate-frontend:";t.l=(o,r,l,s)=>{if(e[o])e[o].push(r);else{var i,n;if(void 0!==l)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var p=d[c];if(p.getAttribute("src")==o||p.getAttribute("data-webpack")==a+l){i=p;break}}i||(n=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",a+l),i.src=o),e[o]=[r];var u=(a,t)=>{i.onerror=i.onload=null,clearTimeout(g);var r=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(t))),a)return a(t)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),n&&document.head.appendChild(i)}}})(),(()=>{t.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{t.p="/static/vue/"})(),(()=>{if("undefined"!==typeof document){var e=(e,a,o,r,l)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",t.nc&&(s.nonce=t.nc);var i=t=>{if(s.onerror=s.onload=null,"load"===t.type)r();else{var o=t&&t.type,i=t&&t.target&&t.target.href||a,n=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+i+")");n.name="ChunkLoadError",n.code="CSS_CHUNK_LOAD_FAILED",n.type=o,n.request=i,s.parentNode&&s.parentNode.removeChild(s),l(n)}};return s.onerror=s.onload=i,s.href=a,o?o.parentNode.insertBefore(s,o.nextSibling):document.head.appendChild(s),s},a=(e,a)=>{for(var t=document.getElementsByTagName("link"),o=0;o<t.length;o++){var r=t[o],l=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(l===e||l===a))return r}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){r=s[o],l=r.getAttribute("data-href");if(l===e||l===a)return r}},o=o=>new Promise(((r,l)=>{var s=t.miniCssF(o),i=t.p+s;if(a(s,i))return r();e(o,i,null,r,l)})),r={524:0};t.f.miniCss=(e,a)=>{var t={301:1};r[e]?a.push(r[e]):0!==r[e]&&t[e]&&a.push(r[e]=o(e).then((()=>{r[e]=0}),(a=>{throw delete r[e],a})))}}})(),(()=>{var e={524:0};t.f.j=(a,o)=>{var r=t.o(e,a)?e[a]:void 0;if(0!==r)if(r)o.push(r[2]);else{var l=new Promise(((t,o)=>r=e[a]=[t,o]));o.push(r[2]=l);var s=t.p+t.u(a),i=new Error,n=o=>{if(t.o(e,a)&&(r=e[a],0!==r&&(e[a]=void 0),r)){var l=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+a+" failed.\n("+l+": "+s+")",i.name="ChunkLoadError",i.type=l,i.request=s,r[1](i)}};t.l(s,n,"chunk-"+a,a)}},t.O.j=a=>0===e[a];var a=(a,o)=>{var r,l,[s,i,n]=o,d=0;if(s.some((a=>0!==e[a]))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(n)var c=n(t)}for(a&&a(o);d<s.length;d++)l=s[d],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},o=self["webpackChunkjps_prospect_aggregate_frontend"]=self["webpackChunkjps_prospect_aggregate_frontend"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))})();var o=t.O(void 0,[504],(()=>t(3053)));o=t.O(o)})();
//# sourceMappingURL=app.38dc568208e5786a.js.map